"use strict";angular.module("DataDisplayPrototypeApp",["ngAnimate","ngResource","ngRoute","chart.js"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/pages/main.html",controller:"MainCtrl"}).when("/chart-test",{templateUrl:"views/pages/chart-test.html",controller:"ChartController"}).when("/firebase-test",{templateUrl:"views/pages/firebase-test.html",controller:"FirebaseController"}).otherwise({redirectTo:"/"})}]),angular.module("DataDisplayPrototypeApp").controller("MainCtrl",["$scope",function(a){var b,c,d,e,f,g,h,i,j,k;a.charttype="lineChart",a.labels=[],a.allData=[],a.series=[],a.dataDisplayModel=[{name:"active users",checked:!0},{name:"tennants",checked:!1},{name:"completions",checked:!1},{name:"paths",checked:!1},{name:"chapters",checked:!1},{name:"x",checked:!1},{name:"x",checked:!1},{name:"x",checked:!1},{name:"x",checked:!1},{name:"x",checked:!1}],a.interval=[{name:"day",checked:!0},{name:"month",checked:!1},{name:"year",checked:!1}],a.chartstype=[{name:"line chart",partial:"lineChart",checked:!0},{name:"bar chart",partial:"barChart",checked:!1}],a.dataDifferenceArray=[],a.buildChart=function(){a.getChart(),a.getData(),a.getLabels(),a.getDifferences()},a.getChart=function(){a.chartstype[0].checked&&(a.charttype=a.chartstype[0].partial),a.chartstype[1].checked&&(a.charttype=a.chartstype[1].partial)},a.getData=function(){var l=a.dataDisplayModel[0].checked,m=a.dataDisplayModel[1].checked,n=a.dataDisplayModel[2].checked,o=a.dataDisplayModel[3].checked,p=a.dataDisplayModel[4].checked,q=a.dataDisplayModel[5].checked,r=a.dataDisplayModel[6].checked,s=a.dataDisplayModel[7].checked,t=a.dataDisplayModel[8].checked,u=a.dataDisplayModel[9].checked;a.allData=[],a.series=[],l===!0&&(a.allData.push(b),a.series.push("users")),m===!0&&(a.allData.push(c),a.series.push("activeUsers")),n===!0&&(a.allData.push(d),a.series.push("tennants")),o===!0&&(a.allData.push(e),a.series.push("completions")),p===!0&&(a.allData.push(f),a.series.push("paths")),q===!0&&(a.allData.push(g),a.series.push("chapters")),r===!0&&(a.allData.push(h),a.series.push("x1")),s===!0&&(a.allData.push(i),a.series.push("x2")),t===!0&&(a.allData.push(j),a.series.push("x3")),u===!0&&(a.allData.push(k),a.series.push("x4"))},a.randomArray=function(){for(var a=[],b=0,c=50;c>b;b++)a.push(Math.round(200*Math.random()));return a},a.getLabels=function(){for(var b=new Array,c=a.fromDate,d=a.toDate;d>=c;)b.push(new Date(c).toFormattedString()),c=c.addToDate();a.labels=b},a.setStartDates=function(){a.fromDate=new Date,a.fromDate.setDate(a.fromDate.getDate()-7),a.toDate=new Date},Date.prototype.addToDate=function(){var b=new Date(this.valueOf());return a.interval[0].checked===!0&&b.setDate(b.getDate()+1),a.interval[1].checked===!0&&b.setMonth(b.getMonth()+1),a.interval[2].checked===!0&&b.setFullYear(b.getFullYear()+1),b},Date.prototype.toFormattedString=function(){var b=[];return a.interval[0].checked===!0&&(b=[String(this.getDate())+"-"+String(this.getMonth())+"-"+String(this.getFullYear())]),a.interval[1].checked===!0&&(b=[String(this.getMonth())+"-"+String(this.getFullYear())]),a.interval[2].checked===!0&&(b=[String(this.getFullYear())]),b},a["switch"]=function(a,b){angular.forEach(b,function(b,c){a!=c&&(b.checked=!1)})},a.setArrays=function(){b=a.randomArray(),c=a.randomArray(),d=a.randomArray(),e=a.randomArray(),f=a.randomArray(),g=a.randomArray(),h=a.randomArray(),i=a.randomArray(),j=a.randomArray(),k=a.randomArray()},a.getDifferences=function(){a.dataDifferenceArray.length=0;var b;for(b=0;b<a.allData.length;b++)a.dataDifferenceArray.push({name:a.series[b],startData:a.allData[b][0],endData:a.allData[b][a.labels.length-1],differenceData:a.allData[b][a.labels.length-1]-a.allData[b][0]});console.log(a.dataDifferenceArray)},a.setStartDates(),a.setArrays(),a.buildChart()}]),angular.module("DataDisplayPrototypeApp").controller("ChartController",["$scope",function(a){a.randomize=function(){var b,c=[];for(b=0;7>b;b++)c.push(Math.floor(100*Math.random()));a.data1=[c],a.data2=c},a.labels1=["January","February","March","April","May","June","July"],a.series=["Series A","Series B"],a.labels2=["Download Sales","In-Store Sales","Mail-Order Sales","Tele Sales","Corporate Sales"],a.data2=[300,500,100,40,120],a.type="PolarArea",a.randomize()}]),angular.module("DataDisplayPrototypeApp").controller("FirebaseController",["$scope","$firebaseObject",function(a,b){var c=new Firebase("https://data-display.firebaseio.com"),d=b(c);d.$bindTo(a,"data"),a.createAccounts=function(a,b){},a.createAccount_preferences=function(a,b){account_preferencesRef.set({id:a,account_id:b})},a.createActivities=function(a,b,c){activitieRef.set({id:a,user_id:b,trackable_id:c})},a.createAnswer_options=function(a,b){answer_optionsRef.set({id:a,question_id:b})},a.createAnswers=function(a,b,c){answersRef.set({id:a,question_id:c,attempt_id:b})},a.createAssignments=function(a){assignmentsRef.set({id:a})},a.createAttachments=function(a,b,c){attachmentsRef.set({id:a,user_id:b,attachable_file_id:c})},a.createAttempts=function(a,b,c){attemptsRef.set({id:a,quiz_id:b,user_id:c})},a.createAudits=function(a,b,c,d){auditsRef.set({id:a,auditable_id:b,associated_id:c,user_id:d})},a.createChapters=function(a,b){chaptersRef.set({id:a,learning_space_id:b})},a.createChosen_options=function(a,b,c){chosen_optionsRef.set({id:a,answer_id:b,answer_options_id:c})},a.createCollaborations=function(a,b,c){collaborationsRef.set({id:a,user_id:b,learning_space_id:c})},a.createComments=function(a,b,c){commentsRef.set({id:a,user_id:b,chapter_id:c})},a.createCompletions=function(a,b,c){completionsRef.set({id:a,chapter_id:b,user_id:c})},a.createFriendly_id_slugs=function(a,b){friendly_id_slugsRef.set({id:a,sluggable_id:b})},a.createHeader_images=function(a,b,c){header_imagesRef.set({id:a,user_id:b,learning_space_id:c})},a.createImages=function(a,b){imagesRef.set({id:a,user_id:b})},a.createInvitations=function(a,b,c){invitationsRef.set({id:a,learning_space_id:b,sender_id:c})},a.createLearning_spaces=function(a,b,c,d,e){learning_spacesRef.set({id:a,user_id:b,chapters_count:c,subscriptions_count:d,stars_count:e})},a.createPaths=function(a,b){pathsRef.set({id:a,user_id:b})},a.createPoints=function(a,b,c){pointsRef.set({id:a,user_id:b,entity:c})},a.createQuestions=function(a,b){questionsRef.set({id:a,quiz_id:b})},a.createQuizzes=function(a){quizzesRef.set({id:a})},a.createRich_contents=function(a){rich_contentsRef.set({id:a})},a.createStars=function(a,b){starsRef.set({id:a,learning_space_id:b})},a.createStats=function(a){statsRef.set({id:a})},a.createSteps=function(a,b,c){stepsRef.set({id:a,path_id:b,learning_space_id:c})},a.createSubmissions=function(a,b,c){submissionsRef.set({id:a,assignment_id:b,user_id:c})},a.createSubscriptions=function(a,b,c){subscriptionsRef.set({id:a,user_id:b,learning_space_id:c})},a.createUser=function(a,b){usersRef.set({id:a,user_id:b})},a.createUser=function(){c.push({users:[{id:1,sign_in_count:4,current_sign_in_at:"20:11",last_sign_in_at:"20:30",name:"Peter de Vries"},{id:2,sign_in_count:1,current_sign_in_at:"18:23",last_sign_in_at:"19:34",name:"Maarten de Boer"},{id:3,sign_in_count:5,current_sign_in_at:"16:40",last_sign_in_at:"16:40",name:"Sietske van Woerde"},{id:4,sign_in_count:12,current_sign_in_at:"02:50",last_sign_in_at:"14:23",name:"Samson derpema"},{id:5,sign_in_count:21,current_sign_in_at:"13:55",last_sign_in_at:"22:34",name:"Maaike Peer"}]})},a.createWalks=function(a,b,d){c.push({walks:[{id:1,user_id:1,path_id:1},{id:2,user_id:1,path_id:2}]})},a.deleteData=function(){c.set({})},a.createData=function(){a.createUser(),a.createWalks()}}]),angular.module("DataDisplayPrototypeApp").controller("SidebarController",["$scope",function(a){a.totalUsers=532,a.totalTennants=19,a.totalSpaces=124,a.totalCompletions=381,a.totalPaths=40,a.totalChapters=304}]),angular.module("DataDisplayPrototypeApp").directive("chart",function(){return{restrict:"E",link:function(a,b,c){a.getContentUrl=function(){return"views/partials/"+c.type+".html"}},template:'<div ng-include="getContentUrl()"></div>'}}).directive("leftsidebar",function(){return{restrict:"E",templateUrl:"views/partials/leftSidebar.html"}}).directive("rightsidebar",function(){return{restrict:"E",templateUrl:"views/partials/rightSidebar.html"}});